
<ion-header>

  <ion-navbar>
    <ion-title>在线客服</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class="ion-content" (ionScroll)="scrollHandler($event)">

  <div #lyScroll *ngIf="msgItems.length > 0">
    <div [ngClass]="{ 'msg-box': true, 'end': msg.sender==='我' }" *ngFor="let msg of msgItems; ">
      <p class="msg-info">
        <ng-container *ngIf="msg.sender==='我'">
          <span class="time">{{msg.time | date : 'MM-dd hh:mm'}}</span>
          <span class="sender">&nbsp;&nbsp;&nbsp;{{msg.sender}}</span>
        </ng-container>

        <ng-container *ngIf="msg.sender!=='我'">
          <span class="sender">{{msg.sender}}</span>
          <span class="time">&nbsp;&nbsp;&nbsp;{{msg.time | date : 'MM-dd hh:mm'}}</span>
        </ng-container>
      </p>

      <p class="msg-content">{{msg.content}}</p>
    </div>
  </div>

</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-list>
      <ion-item>
        <ion-input type="text" placeholder="请输入内容..." [(ngModel)]="inputTxt"></ion-input>
      </ion-item>
    </ion-list>

    <ion-buttons end>
      <button ion-button icon-right color="royal" (tap)="sendMessageToServer(inputTxt)">
        发送
        <ion-icon name="send"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
